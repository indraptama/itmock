!function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return o(r?r:t)},c,c.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,r){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],2:[function(t,e,r){var n;n=t("./vibrant"),n.DefaultOpts.Image=t("./image/browser"),e.exports=n},{"./image/browser":7,"./vibrant":20}],3:[function(t,e,r){e.exports=function(t,e,r,n){return n>=125&&!(t>250&&e>250&&r>250)}},{}],4:[function(t,e,r){e.exports.Default=t("./default")},{"./default":3}],5:[function(t,e,r){var n,o,i,s,a,u=function(t,e){function r(){this.constructor=t}for(var n in e)h.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},h={}.hasOwnProperty,c=[].slice;s=t("../swatch"),a=t("../util"),i=t("./index"),o={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6,weightPopulation:1},e.exports=n=function(t){function e(t){this.opts=a.defaults(t,o),this.VibrantSwatch=null,this.LightVibrantSwatch=null,this.DarkVibrantSwatch=null,this.MutedSwatch=null,this.LightMutedSwatch=null,this.DarkMutedSwatch=null}return u(e,t),e.prototype.HighestPopulation=0,e.prototype.generate=function(t){return this.swatches=t,this.maxPopulation=this.findMaxPopulation,this.generateVarationColors(),this.generateEmptySwatches()},e.prototype.getVibrantSwatch=function(){return this.VibrantSwatch},e.prototype.getLightVibrantSwatch=function(){return this.LightVibrantSwatch},e.prototype.getDarkVibrantSwatch=function(){return this.DarkVibrantSwatch},e.prototype.getMutedSwatch=function(){return this.MutedSwatch},e.prototype.getLightMutedSwatch=function(){return this.LightMutedSwatch},e.prototype.getDarkMutedSwatch=function(){return this.DarkMutedSwatch},e.prototype.generateVarationColors=function(){return this.VibrantSwatch=this.findColorVariation(this.opts.targetNormalLuma,this.opts.minNormalLuma,this.opts.maxNormalLuma,this.opts.targetVibrantSaturation,this.opts.minVibrantSaturation,1),this.LightVibrantSwatch=this.findColorVariation(this.opts.targetLightLuma,this.opts.minLightLuma,1,this.opts.targetVibrantSaturation,this.opts.minVibrantSaturation,1),this.DarkVibrantSwatch=this.findColorVariation(this.opts.targetDarkLuma,0,this.opts.maxDarkLuma,this.opts.targetVibrantSaturation,this.opts.minVibrantSaturation,1),this.MutedSwatch=this.findColorVariation(this.opts.targetNormalLuma,this.opts.minNormalLuma,this.opts.maxNormalLuma,this.opts.targetMutesSaturation,0,this.opts.maxMutesSaturation),this.LightMutedSwatch=this.findColorVariation(this.opts.targetLightLuma,this.opts.minLightLuma,1,this.opts.targetMutesSaturation,0,this.opts.maxMutesSaturation),this.DarkMutedSwatch=this.findColorVariation(this.opts.targetDarkLuma,0,this.opts.maxDarkLuma,this.opts.targetMutesSaturation,0,this.opts.maxMutesSaturation)},e.prototype.generateEmptySwatches=function(){var t;return null===this.VibrantSwatch&&null!==this.DarkVibrantSwatch&&(t=this.DarkVibrantSwatch.getHsl(),t[2]=this.opts.targetNormalLuma,this.VibrantSwatch=new s(a.hslToRgb(t[0],t[1],t[2]),0)),null===this.DarkVibrantSwatch&&null!==this.VibrantSwatch?(t=this.VibrantSwatch.getHsl(),t[2]=this.opts.targetDarkLuma,this.DarkVibrantSwatch=new s(a.hslToRgb(t[0],t[1],t[2]),0)):void 0},e.prototype.findMaxPopulation=function(){var t,e,r,n,o;for(r=0,n=this.swatches,t=0,e=n.length;e>t;t++)o=n[t],r=Math.max(r,o.getPopulation());return r},e.prototype.findColorVariation=function(t,e,r,n,o,i){var s,a,u,h,c,p,f,l,d;for(h=null,c=0,p=this.swatches,s=0,a=p.length;a>s;s++)l=p[s],f=l.getHsl()[1],u=l.getHsl()[2],f>=o&&i>=f&&u>=e&&r>=u&&!this.isAlreadySelected(l)&&(d=this.createComparisonValue(f,n,u,t,l.getPopulation(),this.HighestPopulation),(null===h||d>c)&&(h=l,c=d));return h},e.prototype.createComparisonValue=function(t,e,r,n,o,i){return this.weightedMean(this.invertDiff(t,e),this.opts.weightSaturation,this.invertDiff(r,n),this.opts.weightLuma,o/i,this.opts.weightPopulation)},e.prototype.invertDiff=function(t,e){return 1-Math.abs(t-e)},e.prototype.weightedMean=function(){var t,e,r,n,o,i;for(o=1<=arguments.length?c.call(arguments,0):[],e=0,r=0,t=0;t<o.length;)n=o[t],i=o[t+1],e+=n*i,r+=i,t+=2;return e/r},e.prototype.isAlreadySelected=function(t){return this.VibrantSwatch===t||this.DarkVibrantSwatch===t||this.LightVibrantSwatch===t||this.MutedSwatch===t||this.DarkMutedSwatch===t||this.LightMutedSwatch===t},e}(i)},{"../swatch":18,"../util":19,"./index":6}],6:[function(t,e,r){var n;e.exports=n=function(){function t(){}return t.prototype.generate=function(t){},t.prototype.getVibrantSwatch=function(){},t.prototype.getLightVibrantSwatch=function(){},t.prototype.getDarkVibrantSwatch=function(){},t.prototype.getMutedSwatch=function(){},t.prototype.getLightMutedSwatch=function(){},t.prototype.getDarkMutedSwatch=function(){},t}(),e.exports.Default=t("./default")},{"./default":5}],7:[function(t,e,r){var n,o,i=function(t,e){function r(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},s={}.hasOwnProperty;o=t("./index"),e.exports=n=function(t){function e(t,e){this.img=document.createElement("img"),this.img.crossOrigin="anonymous",this.img.src=t,this.img.onload=function(t){return function(){return t._initCanvas(),"function"==typeof e?e(null,t):void 0}}(this),this.img.onerror=function(r){return function(r){var n;return n=new Error("Fail to load image: "+t),n.raw=r,"function"==typeof e?e(n):void 0}}(this)}return i(e,t),e.prototype._initCanvas=function(){return this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=this.img.width,this.height=this.canvas.height=this.img.height,this.context.drawImage(this.img,0,0,this.width,this.height)},e.prototype.clear=function(){return this.context.clearRect(0,0,this.width,this.height)},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.resize=function(t,e,r){return this.width=this.canvas.width=t,this.height=this.canvas.height=e,this.context.scale(r,r),this.context.drawImage(this.img,0,0)},e.prototype.update=function(t){return this.context.putImageData(t,0,0)},e.prototype.getPixelCount=function(){return this.width*this.height},e.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},e.prototype.removeCanvas=function(){return this.canvas.parentNode.removeChild(this.canvas)},e}(o)},{"./index":8}],8:[function(t,e,r){var n;e.exports=n=function(){function t(){}return t.prototype.clear=function(){},t.prototype.update=function(t){},t.prototype.getWidth=function(){},t.prototype.getHeight=function(){},t.prototype.scaleDown=function(t){var e,r,n,o;return o=this.getWidth(),e=this.getHeight(),n=1,null!=t.maxDimension?(r=Math.max(o,e),r>t.maxDimension&&(n=t.maxDimension/r)):n=1/t.quality,1>n?this.resize(o*n,e*n,n):void 0},t.prototype.resize=function(t,e,r){},t.prototype.getPixelCount=function(){},t.prototype.getImageData=function(){},t.prototype.removeCanvas=function(){},t}()},{}],9:[function(t,e,r){var n,o,i,s,a=function(t,e){function r(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=t("../swatch"),o=t("./index"),s=t("quantize"),e.exports=n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.initialize=function(t,e){var r,n,o,a,u,h,c,p,f;for(this.opts=e,p=t.length/4,n=[],h=0;p>h;)c=4*h,f=t[c+0],u=t[c+1],o=t[c+2],r=t[c+3],r>=125&&(f>250&&u>250&&o>250||n.push([f,u,o])),h+=this.opts.quality;return a=s(n,this.opts.colorCount),this.swatches=a.vboxes.map(function(t){return function(t){return new i(t.color,t.vbox.count())}}(this))},e.prototype.getQuantizedColors=function(){return this.swatches},e}(o)},{"../swatch":18,"./index":15,quantize:25}],10:[function(t,e,r){var n,o,i,s,a=function(t,e){function r(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},u={}.hasOwnProperty;s=t("../swatch"),i=t("./index"),n=t("./impl/color-cut"),e.exports=o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.initialize=function(t,e){var r,o,i;return this.opts=e,r=new ArrayBuffer(t.length),o=new Uint8ClampedArray(r),i=new Uint32Array(r),o.set(t),this.quantizer=new n(i,this.opts)},e.prototype.getQuantizedColors=function(){return this.quantizer.getQuantizedColors()},e}(i)},{"../swatch":18,"./impl/color-cut":11,"./index":15}],11:[function(t,e,r){var n,o,i,s,a,u,h,c,p,f,l,d,g,v,m,y,b,w,x,_;f=t("../../swatch"),_=function(t,e,r){var n,o,i;return i=function(e,r){var n;return n=t[e],t[e]=t[r],t[r]=n},n=function(e,r,n){var o,s,a,u,h,c;for(o=r,c=t[e],i(e,n),h=s=a=r,u=n-1;u>=a?u>=s:s>=u;h=u>=a?++s:--s)t[h]>c&&(i(h,o),o++);return i(n,o),o},r>e?(o=e+Math.ceil((r-e)/2),o=n(o,e,r),_(t,e,o-1),_(t,o+1,r)):void 0},s=-3,i=-2,o=-1,c=5,h=(1<<c)-1,p={red:function(t){return t>>24},green:function(t){return t<<8>>24},blue:function(t){return t<<16>>24},alpha:function(t){return t<<24>>24}},n={red:function(t){return t<<24>>24},green:function(t){return t<<16>>24},blue:function(t){return t<<8>>24},alpha:function(t){return t>>24}},g=function(){var t,e,r;if(t=new ArrayBuffer(4),e=new Uint8Array(t),r=new Uint32Array(t),e[0]=161,e[1]=178,e[2]=195,e[3]=212,3569595041===r[0])return!0;if(2712847316===r[0])return!1;throw new Error("Failed to determin endianness")},a=g()?n:p,m=function(t,e,r){var n;return n=0,n=r>e?t<<r-e:t>>e-r,n&(1<<r)-1},v=function(t,e,r,n){var a,u,h,p,f,l,d,g;switch(e){case s:break;case i:for(u=h=f=r,l=n;l>=f?l>=h:h>=l;u=l>=f?++h:--h)a=t[u],t[u]=w(a)<<c+c|x(a)<<c|b(a);break;case o:for(u=p=d=r,g=n;g>=d?g>=p:p>=g;u=g>=d?++p:--p)a=t[u],t[u]=b(a)<<c+c|w(a)<<c|x(a)}},y=function(t){var e,r,n;return n=m(a.red(t),8,c),r=m(a.green(t),8,c),e=m(a.blue(t),8,c),n<<c+c|r<<c|e},d=function(t,e,r){var n;return(null==e||null==r)&&(n=t,t=x(n),e=w(n),r=b(n)),[m(t,c,8),m(e,c,8),m(r,c,8)]},x=function(t){return t>>c+c&h},w=function(t){return t>>c&h},b=function(t){return t&h},e.exports=u=function(){function t(t,e){var r,n,o,i,s,a,u,h,p,l,g,v,m,b;for(this.opts=e,this.hist=new Uint32Array(1<<3*c),this.pixels=new Uint32Array(t.length),s=a=0,g=t.length-1;g>=0?g>=a:a>=g;s=g>=0?++a:--a)this.pixels[s]=l=y(t[s]),this.hist[l]++;for(o=0,n=u=0,v=this.hist.length-1;v>=0?v>=u:u>=v;n=v>=0?++u:--u)this.hist[n]>0&&o++;for(this.colors=new Uint32Array(o),i=0,n=h=0,m=this.hist.length-1;m>=0?m>=h:h>=m;n=m>=0?++h:--h)this.hist[n]>0&&(this.colors[i++]=n);if(o<=this.opts.colorCount)for(this.quantizedColors=[],s=p=0,b=this.colors.length-1;b>=0?b>=p:p>=b;s=b>=0?++p:--p)r=this.colors[s],this.quantizedColors.push(new f(d(r),this.hist[r]));else this.quantizedColors=this.quantizePixels(this.opts.colorCount)}return t.prototype.getQuantizedColors=function(){return this.quantizedColors},t.prototype.quantizePixels=function(t){var e;return e=new PriorityQueue({comparator:l.comparator}),e.queue(new l(this.colors,this.hist,0,this.colors.length-1)),this.splitBoxes(e,t),this.generateAverageColors(e)},t.prototype.splitBoxes=function(t,e){for(var r;t.length<e;){if(r=t.dequeue(),null!=r?!r.canSplit():!0)return;t.queue(r.splitBox()),t.queue(r)}},t.prototype.generateAverageColors=function(t){var e;for(e=[];t.length>0;)e.push(t.dequeue().getAverageColor());return e},t}(),l=function(){function t(t,e,r,n){this.colors=t,this.hist=e,this.lowerIndex=r,this.upperIndex=n,this.fitBox()}return t.comparator=function(t,e){return t.getVolume()-e.getVolume()},t.prototype.getVolume=function(){return(this.maxRed-this.minRed+1)*(this.maxGreen-this.minGreen+1)*(this.maxBlue-this.minBlue+1)},t.prototype.canSplit=function(){return this.getColorCount()>1},t.prototype.getColorCount=function(){return 1+this.upperIndex-this.lowerIndex},t.prototype.fitBox=function(){var t,e,r,n,o,i,s,a,u;for(this.minRed=this.minGreen=this.minBlue=Number.MAX_VALUE,this.maxRed=this.maxGreen=this.maxBlue=Number.MIN_VALUE,this.population=0,r=0,o=i=a=this.lowerIndex,u=this.upperIndex;u>=a?u>=i:i>=u;o=u>=a?++i:--i)e=this.colors[o],r+=this.hist[e],s=x(e),n=w(e),t=b(e),s>this.maxRed&&(this.maxRed=s),s<this.minRed&&(this.minRed=s),n>this.maxGreen&&(this.maxGreen=n),n<this.minGreen&&(this.minGreen=n),t>this.maxBlue&&(this.maxRed=t),t<this.minBlue&&(this.minRed=t);return this.population=r},t.prototype.splitBox=function(){var e,r;if(!this.canSplit())throw new Error("Cannot split a box with only 1 color");return r=this.findSplitPoint(),e=new t(this.colors,this.hist,r+1,this.upperIndex),this.upperIndex=r,this.fitBox(),e},t.prototype.getLongestColorDimension=function(){var t,e,r;return r=this.maxRed-this.minRed,e=this.maxGreen-this.minGreen,t=this.maxBlue-this.minBlue,r>=e&&r>=t?s:e>=r&&e>=t?i:o},t.prototype.findSplitPoint=function(){var t,e,r,n,o,i,s;for(n=this.getLongestColorDimension(),v(this.colors,n,this.lowerIndex,this.upperIndex),_(this.colors,this.lowerIndex,this.upperIndex+1),v(this.colors,n,this.lowerIndex,this.upperIndex),o=this.population/2,t=0,e=r=i=this.lowerIndex,s=this.upperIndex;s>=i?s>=r:r>=s;e=s>=i?++r:--r)if(t+=this.hist[this.colors[e]],t>=o)return e;return this.lowerIndex},t.prototype.getAverageColor=function(){var t,e,r,n,o,i,s,a,u,h,c,p,l;for(h=i=e=0,l=0,s=a=c=this.lowerIndex,p=this.upperIndex;p>=c?p>=a:a>=p;s=p>=c?++a:--a)r=this.colors[s],n=this.hist[r],l+=n,h+=n*x(r),i+=n*w(r),e+=n*b(r);return u=Math.round(h/l),o=Math.round(i/l),t=Math.round(e/l),new f(d(u,o,t),l)},t}()},{"../../swatch":18}],12:[function(t,e,r){var n,o,i,s,a,u,h,c,p;c=p=t("../../util"),h=c.getColorIndex,s=c.SIGBITS,i=c.RSHIFT,a=t("../../swatch"),u=t("./vbox"),o=t("./pqueue"),e.exports=n=function(){function t(t){this.opts=p.defaults(t,this.constructor.DefaultOpts)}return t.DefaultOpts={maxIterations:1e3,fractByPopulations:.75},t.prototype.quantize=function(t,e){var r,n,i,s,h,c,p,f,l;if(0===t.length||e.colorCount<2||e.colorCount>256)throw new Error("Wrong MMCQ parameters");for(c=function(){return!1},Array.isArray(e.filters)&&e.filters.length>0&&(c=function(t,r,n,o){var i,s,a,u;for(u=e.filters,s=0,a=u.length;a>s;s++)if(i=u[s],!i(t,r,n,o))return!0;return!1}),l=u.build(t,c),i=l.hist,n=Object.keys(i).length,s=new o(function(t,e){return t.count()-e.count()}),s.push(l),this._splitBoxes(s,this.opts.fractByPopulations*e.colorCount),h=new o(function(t,e){return t.count()*t.volume()-e.count()*e.volume()}),h.contents=s.contents,this._splitBoxes(h,e.colorCount-h.size()),p=[],this.vboxes=[];h.size();)f=h.pop(),r=f.avg(),("function"==typeof c?c(r[0],r[1],r[2],255):void 0)||(this.vboxes.push(f),p.push(new a(r,f.count())));return p},t.prototype._splitBoxes=function(t,e){var r,n,o,i,s,a,u;for(r=1,n=0,o=this.opts.maxIterations;o>n;)if(n++,s=t.pop(),s.count()&&(i=s.split(),a=i[0],u=i[1],t.push(a),u&&(t.push(u),r++),r>=e||n>o))return},t}()},{"../../swatch":18,"../../util":19,"./pqueue":13,"./vbox":14}],13:[function(t,e,r){var n;e.exports=n=function(){function t(t){this.comparator=t,this.contents=[],this.sorted=!1}return t.prototype._sort=function(){return this.contents.sort(this.comparator),this.sorted=!0},t.prototype.push=function(t){return this.contents.push(t),this.sorted=!1},t.prototype.peek=function(t){return this.sorted||this._sort(),null==t&&(t=this.contents.length-1),this.contents[t]},t.prototype.pop=function(){return this.sorted||this._sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(t){return this.sorted||this._sort(),this.contents.map(t)},t}()},{}],14:[function(t,e,r){var n,o,i,s,a,u;a=u=t("../../util"),s=a.getColorIndex,o=a.SIGBITS,n=a.RSHIFT,e.exports=i=function(){function t(t,e,r,n,o,i,s){this.r1=t,this.r2=e,this.g1=r,this.g2=n,this.b1=o,this.b2=i,this.hist=s}return t.build=function(e,r){var i,a,u,h,c,p,f,l,d,g,v,m,y,b,w,x;for(d=1<<3*o,l=new Uint32Array(d),w=p=u=0,x=f=h=Number.MAX_VALUE,m=e.length/4,g=0;m>g;)y=4*g,g++,b=e[y+0],c=e[y+1],a=e[y+2],i=e[y+3],r(b,c,a,i)||(b>>=n,c>>=n,a>>=n,v=s(b,c,a),l[v]+=1,b>w&&(w=b),x>b&&(x=b),c>p&&(p=c),f>c&&(f=c),a>u&&(u=a),h>a&&(h=a));return new t(x,w,f,p,h,u,l)},t.prototype.invalidate=function(){return delete this._count,delete this._avg,delete this._volume},t.prototype.volume=function(){return null==this._volume&&(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},t.prototype.count=function(){var t,e;if(null==this._count){e=this.hist,t=0;for(var r=this.r1;r<=this.r2;r++)for(var n=this.g1;n<=this.g2;n++)for(var o=this.b1;o<=this.b2;o++){var i=s(r,n,o);t+=e[i]}this._count=t}return this._count},t.prototype.clone=function(){return new t(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.hist)},t.prototype.avg=function(){var t,e,r,n,i,a;if(null==this._avg){r=this.hist,i=0,n=1<<8-o,a=e=t=0;for(var u=this.r1;u<=this.r2;u++)for(var h=this.g1;h<=this.g2;h++)for(var c=this.b1;c<=this.b2;c++){var p=s(u,h,c),f=r[p];i+=f,a+=f*(u+.5)*n,e+=f*(h+.5)*n,t+=f*(c+.5)*n}i?this._avg=[~~(a/i),~~(e/i),~~(t/i)]:this._avg=[~~(n*(this.r1+this.r2+1)/2),~~(n*(this.g1+this.g2+1)/2),~~(n*(this.b1+this.b2+1)/2)]}return this._avg},t.prototype.split=function(){var t,e,r,n,o,i,a,u,h,c,p,f,l,d,g,v,m;if(i=this.hist,!this.count())return null;if(1===this.count())return[this.clone()];switch(l=this.r2-this.r1+1,o=this.g2-this.g1+1,e=this.b2-this.b1+1,c=Math.max(l,o,e),t=null,g=v=0,h=null,c){case l:h="r",t=new Uint32Array(this.r2+1);for(var y=this.r1;y<=this.r2;y++){g=0;for(var b=this.g1;b<=this.g2;b++)for(var w=this.b1;w<=this.b2;w++){var x=s(y,b,w);g+=i[x]}v+=g,t[y]=v}break;case o:h="g",t=new Uint32Array(this.g2+1);for(var b=this.g1;b<=this.g2;b++){g=0;for(var y=this.r1;y<=this.r2;y++)for(var w=this.b1;w<=this.b2;w++){var x=s(y,b,w);g+=i[x]}v+=g,t[b]=v}break;case e:h="b",t=new Uint32Array(this.b2+1);for(var w=this.b1;w<=this.b2;w++){g=0;for(var y=this.r1;y<=this.r2;y++)for(var b=this.g1;b<=this.g2;b++){var x=s(y,b,w);g+=i[x]}v+=g,t[w]=v}}for(d=-1,f=new Uint32Array(t.length),a=u=0,p=t.length-1;p>=0?p>=u:u>=p;a=p>=0?++u:--u)r=t[a],0>d&&r>v/2&&(d=a),f[a]=v-r;return m=this,(n=function(e){var r,n,o,i,s,a,u,h,c;for(i=e+"1",s=e+"2",n=m[i],o=m[s],h=m.clone(),c=m.clone(),a=d-n,u=o-d,u>=a?(o=Math.min(o-1,~~(d+u/2)),o=Math.max(0,o)):(o=Math.max(n,~~(d-1-a/2)),o=Math.min(m[s],o));!t[o];)o++;for(r=f[o];!r&&t[o-1];)r=f[--o];return h[s]=o,c[i]=o+1,[h,c]})(h)},t.prototype.contains=function(t){var e,r,o;return o=t[0]>>n,r=t[1]>>n,e=t[2]>>n,o>=this.r1&&o<=this.r2&&r>=this.g1&&r<=this.g2&&e>=this.b1&&e<=this.b2},t}()},{"../../util":19}],15:[function(t,e,r){var n;e.exports=n=function(){function t(){}return t.prototype.initialize=function(t,e){},t.prototype.getQuantizedColors=function(){},t}(),e.exports.Baseline=t("./baseline"),e.exports.NoCopy=t("./nocopy"),e.exports.ColorCut=t("./color-cut"),e.exports.MMCQ=t("./mmcq")},{"./baseline":9,"./color-cut":10,"./mmcq":16,"./nocopy":17}],16:[function(t,e,r){var n,o,i,s,a=function(t,e){function r(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},u={}.hasOwnProperty;s=t("../swatch"),i=t("./index"),o=t("./impl/mmcq"),e.exports=n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.initialize=function(t,e){var r;return this.opts=e,r=new o,this.swatches=r.quantize(t,this.opts)},e.prototype.getQuantizedColors=function(){return this.swatches},e}(i)},{"../swatch":18,"./impl/mmcq":12,"./index":15}],17:[function(t,e,r){var n,o,i,s,a=function(t,e){function r(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},u={}.hasOwnProperty;i=t("../swatch"),o=t("./index"),s=t("../../vendor-mod/quantize"),e.exports=n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.initialize=function(t,e){var r;return this.opts=e,r=s(t,this.opts),this.swatches=r.vboxes.map(function(t){return function(t){return new i(t.color,t.vbox.count())}}(this))},e.prototype.getQuantizedColors=function(){return this.swatches},e}(o)},{"../../vendor-mod/quantize":21,"../swatch":18,"./index":15}],18:[function(t,e,r){var n,o;o=t("./util"),e.exports=n=function(){function t(t,e){this.rgb=t,this.population=e}return t.prototype.hsl=void 0,t.prototype.rgb=void 0,t.prototype.population=1,t.prototype.yiq=0,t.prototype.getHsl=function(){return this.hsl?this.hsl:this.hsl=o.rgbToHsl(this.rgb[0],this.rgb[1],this.rgb[2])},t.prototype.getPopulation=function(){return this.population},t.prototype.getRgb=function(){return this.rgb},t.prototype.getHex=function(){return o.rgbToHex(this.rgb[0],this.rgb[1],this.rgb[2])},t.prototype.getTitleTextColor=function(){return this._ensureTextColors(),this.yiq<200?"#fff":"#000"},t.prototype.getBodyTextColor=function(){return this._ensureTextColors(),this.yiq<150?"#fff":"#000"},t.prototype._ensureTextColors=function(){return this.yiq?void 0:this.yiq=(299*this.rgb[0]+587*this.rgb[1]+114*this.rgb[2])/1e3},t}()},{"./util":19}],19:[function(t,e,r){var n,o,i;n={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},i=5,o=8-i,e.exports={clone:function(t){var e,r,n;if("object"==typeof t){if(Array.isArray(t))return t.map(function(t){return function(e){return t.clone(e)}}(this));e={};for(r in t)n=t[r],e[r]=this.clone(n);return e}return t},defaults:function(){var t,e,r,n,o,i;for(o={},e=0,n=arguments.length;n>e;e++){t=arguments[e];for(r in t)i=t[r],null==o[r]&&(o[r]=this.clone(i))}return o},hexToRgb:function(t){var e;return e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),null!=e?[e[1],e[2],e[3]].map(function(t){return parseInt(t,16)}):null},rgbToHex:function(t,e,r){return"#"+((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1,7)},rgbToHsl:function(t,e,r){var n,o,i,s,a,u;if(t/=255,e/=255,r/=255,s=Math.max(t,e,r),a=Math.min(t,e,r),o=void 0,u=void 0,i=(s+a)/2,s===a)o=u=0;else{switch(n=s-a,u=i>.5?n/(2-s-a):n/(s+a),s){case t:o=(e-r)/n+(r>e?6:0);break;case e:o=(r-t)/n+2;break;case r:o=(t-e)/n+4}o/=6}return[o,u,i]},hslToRgb:function(t,e,r){var n,o,i,s,a,u;return u=void 0,o=void 0,n=void 0,i=function(t,e,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?t+6*(e-t)*r:.5>r?e:2/3>r?t+(e-t)*(2/3-r)*6:t},0===e?u=o=n=r:(a=.5>r?r*(1+e):r+e-r*e,s=2*r-a,u=i(s,a,t+1/3),o=i(s,a,t),n=i(s,a,t-1/3)),[255*u,255*o,255*n]},rgbToXyz:function(t,e,r){var n,o,i;return t/=255,e/=255,r/=255,t=t>.04045?Math.pow((t+.005)/1.055,2.4):t/12.92,e=e>.04045?Math.pow((e+.005)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.005)/1.055,2.4):r/12.92,t*=100,e*=100,r*=100,n=.4124*t+.3576*e+.1805*r,o=.2126*t+.7152*e+.0722*r,i=.0193*t+.1192*e+.9505*r,[n,o,i]},xyzToCIELab:function(t,e,r){var n,o,i,s,a,u;return o=95.047,i=100,s=108.883,t/=o,e/=i,r/=s,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=116*e-16,a=500*(t-e),u=200*(e-r),[n,a,u]},rgbToCIELab:function(t,e,r){var n,o,i,s;return n=this.rgbToXyz(t,e,r),o=n[0],i=n[1],s=n[2],this.xyzToCIELab(o,i,s)},deltaE94:function(t,e){var r,n,o,i,s,a,u,h,c,p,f,l,d,g,v,m,y,b,w,x;return s=1,o=1,i=1,r=t[0],a=t[1],h=t[2],n=e[0],u=e[1],c=e[2],p=r-n,f=a-u,l=h-c,d=Math.sqrt(a*a+h*h),g=Math.sqrt(u*u+c*c),b=n-r,v=g-d,m=Math.sqrt(p*p+f*f+l*l),y=Math.sqrt(m)>Math.sqrt(Math.abs(b))+Math.sqrt(Math.abs(v))?Math.sqrt(m*m-b*b-v*v):0,w=1+.045*d,x=1+.015*d,b/=s,v/=o*w,y/=i*x,Math.sqrt(b*b+v*v+y*y)},rgbDiff:function(t,e){var r,n;return r=this.rgbToCIELab.apply(this,t),n=this.rgbToCIELab.apply(this,e),this.deltaE94(r,n)},hexDiff:function(t,e){var r,n;return r=this.hexToRgb(t),n=this.hexToRgb(e),this.rgbDiff(r,n)},DELTAE94_DIFF_STATUS:n,getColorDiffStatus:function(t){return t<n.NA?"N/A":t<=n.PERFECT?"Perfect":t<=n.CLOSE?"Close":t<=n.GOOD?"Good":t<n.SIMILAR?"Similar":"Wrong"},SIGBITS:i,RSHIFT:o,getColorIndex:function(t,e,r){return(t<<2*i)+(e<<i)+r}}},{}],20:[function(t,e,r){var n,o,i,s,a,u,h=function(t,e){return function(){return t.apply(e,arguments)}};s=t("./swatch"),u=t("./util"),o=t("./generator").Default,i=t("./filter"),e.exports=a=function(){function e(t,e){this.sourceImage=t,null==e&&(e={}),this.swatches=h(this.swatches,this),this.opts=u.defaults(e,this.constructor.DefaultOpts),this.generator=this.opts.generator}return e.DefaultOpts={colorCount:64,quality:5,generator:new o,Image:null,Quantizer:t("./quantizer").MMCQ,filters:[]},e.from=function(t){return new n(t)},e.prototype.quantize=t("quantize"),e.prototype._swatches=[],e.prototype.getPalette=function(t){var e;return e=new this.opts.Image(this.sourceImage,function(e){return function(r,n){var o;if(null!=r)return t(r);try{return e._process(n,e.opts),t(null,e.swatches())}catch(i){return o=i,t(o)}}}(this))},e.prototype.getSwatches=function(t){return this.getPalette(t)},e.prototype._process=function(t,e){var r,n,o;return t.scaleDown(this.opts),r=t.getImageData(),n=new this.opts.Quantizer,n.initialize(r.data,this.opts),o=n.getQuantizedColors(),this.generator.generate(o),t.removeCanvas()},e.prototype.swatches=function(){return{Vibrant:this.generator.getVibrantSwatch(),Muted:this.generator.getMutedSwatch(),DarkVibrant:this.generator.getDarkVibrantSwatch(),DarkMuted:this.generator.getDarkMutedSwatch(),LightVibrant:this.generator.getLightVibrantSwatch(),LightMuted:this.generator.getLightMutedSwatch()}},e}(),e.exports.Builder=n=function(){function t(t,e){this.src=t,this.opts=null!=e?e:{},this.opts.filters=u.clone(a.DefaultOpts.filters)}return t.prototype.maxColorCount=function(t){return this.opts.colorCount=t,this},t.prototype.maxDimension=function(t){return this.opts.maxDimension=t,this},t.prototype.addFilter=function(t){return"function"==typeof t&&this.opts.filters.push(t),this},t.prototype.removeFilter=function(t){var e;return(e=this.opts.filters.indexOf(t))>0&&this.opts.filters.splice(e),this},t.prototype.clearFilters=function(){return this.opts.filters=[],this},t.prototype.quality=function(t){return this.opts.quality=t,this},t.prototype.useImage=function(t){return this.opts.Image=t,this},t.prototype.useGenerator=function(t){return this.opts.generator=t,this},t.prototype.useQuantizer=function(t){return this.opts.Quantizer=t,this},t.prototype.build=function(){return null==this.v&&(this.v=new a(this.src,this.opts)),this.v},t.prototype.getSwatches=function(t){return this.build().getPalette(t)},t.prototype.getPalette=function(t){return this.build().getPalette(t)},t.prototype.from=function(t){return new a(t,this.opts)},t}(),e.exports.Util=u,e.exports.Swatch=s,e.exports.Quantizer=t("./quantizer/"),e.exports.Generator=t("./generator/"),e.exports.Filter=t("./filter/")},{"./filter":4,"./filter/":4,"./generator":6,"./generator/":6,"./quantizer":15,"./quantizer/":15,"./swatch":18,"./util":19,quantize:25}],21:[function(t,e,n){if(!o)var o={map:function(t,e){var r={};return e?t.map(function(t,n){return r.index=n,e.call(r,t)}):t.slice()},naturalOrder:function(t,e){return t-e},sum:function(t,e){var r={};return t.reduce(e?function(t,n,o){return r.index=o,t+e.call(r,n)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?o.map(t,e):t)}};var i=function(){function t(t,e,r){return(t<<2*c)+(e<<c)+r}function e(t){function e(){r.sort(t),n=!0}var r=[],n=!1;return{push:function(t){r.push(t),n=!1},peek:function(t){return n||e(),void 0===t&&(t=r.length-1),r[t]},pop:function(){return n||e(),r.pop()},size:function(){return r.length},map:function(t){return r.map(t)},debug:function(){return n||e(),r}}}function n(t,e,r,n,o,i,s){var a=this;a.r1=t,a.r2=e,a.g1=r,a.g2=n,a.b1=o,a.b2=i,a.histo=s}function i(){this.vboxes=new e(function(t,e){return o.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())})}function s(e,o){var i,s,u,h,f=1<<3*c,l=new Uint32Array(f),d=1e6,v=0,m=1e6,y=0,w=1e6,x=0,_=e.length/4,S=0;if("function"==typeof o)for(;_>S;)offset=4*S,S++,r=e[offset+0],g=e[offset+1],b=e[offset+2],a=e[offset+3],o(r,g,b,a)||(s=r>>p,u=g>>p,h=b>>p,i=t(s,u,h),l[i]++,d>s?d=s:s>v&&(v=s),m>u?m=u:u>y&&(y=u),w>h?w=h:h>x&&(x=h));else for(;_>S;)offset=4*S,S++,r=e[offset+0],g=e[offset+1],b=e[offset+2],a=e[offset+3],s=r>>p,u=g>>p,h=b>>p,i=t(s,u,h),l[i]++,d>s?d=s:s>v&&(v=s),m>u?m=u:u>y&&(y=u),w>h?w=h:h>x&&(x=h);return{histo:l,vbox:new n(d,v,m,y,w,x,l)}}function u(e,r){function n(t){var e,n,o,i,s,a=t+"1",u=t+"2",p=0,f=y;for(o=r.copy(),i=r.copy(),e=f-r[a],n=r[u]-f,n>=e?(s=Math.min(r[u]-1,~~(f+n/2)),s=Math.max(0,s)):(s=Math.max(r[a],~~(f-1-e/2)),s=Math.min(r[u],s));!h[s];)s++;for(p=c[s];!p&&h[s-1];)p=c[--s];return o[u]=s,i[a]=o[u]+1,[o,i]}if(r.count()){var i=r.r2-r.r1+1,s=r.g2-r.g1+1,a=r.b2-r.b1+1,u=o.max([i,s,a]);if(1==r.count())return[r.copy()];var h,c,p,f,l,d,g,v=0,m="b";if(u==i)for(m="r",h=new Uint32Array(r.r2+1),p=r.r1;p<=r.r2;p++){for(d=0,f=r.g1;f<=r.g2;f++)for(l=r.b1;l<=r.b2;l++)g=t(p,f,l),d+=e[g];v+=d,h[p]=v}else if(u==s)for(m="g",h=new Uint32Array(r.g2+1),p=r.g1;p<=r.g2;p++){for(d=0,f=r.r1;f<=r.r2;f++)for(l=r.b1;l<=r.b2;l++)g=t(f,p,l),d+=e[g];v+=d,h[p]=v}else for(h=new Uint32Array(r.b2+1),p=r.b1;p<=r.b2;p++){for(d=0,f=r.r1;f<=r.r2;f++)for(l=r.g1;l<=r.g2;l++)g=t(f,l,p),d+=e[g];v+=d,h[p]=v}var y=-1;for(c=new Uint32Array(h.length),p=0;p<h.length;p++){var b=h[p];0>y&&b>v/2&&(y=p),c[p]=v-b}return n(m)}}function h(t,r){function n(t,e,n,o){for(var i=0;i<r.filters.length;i++){var s=r.filters[i];if(!s(t,e,n,o))return!0}return!1}function a(t,e){for(var r,n=1,o=0;f>o;)if(r=t.pop(),r.count()){var i=u(d,r),s=i[0],a=i[1];if(!s)return;if(t.push(s),a&&(t.push(a),n++),n>=e)return;if(o++>f)return}else o++}var h=r.colorCount;if(!t.length||2>h||h>256)return!1;var c=Array.isArray(r.filters)&&r.filters.length>0,p=s(t,c?houldIgnore:null),d=p.histo,g=(Object.keys(d).length,p.vbox),v=new e(function(t,e){return o.naturalOrder(t.count(),e.count())});v.push(g),a(v,l*h);for(var m=new e(function(t,e){return o.naturalOrder(t.count()*t.volume(),e.count()*e.volume())});v.size();)m.push(v.pop());a(m,h-m.size());for(var y=new i;m.size();){var b=m.pop(),w=g.avg();c&&n(w[0],w[1],w[2],255)||y.push(b)}return y}var c=5,p=8-c,f=1e3,l=.75;return n.prototype={volume:function(t){var e=this;return(!e._volume||t)&&(e._volume=(e.r2-e.r1+1)*(e.g2-e.g1+1)*(e.b2-e.b1+1)),e._volume},count:function(e){var r=this,n=r.histo;if(!r._count_set||e){var o,i,s,a=0;for(o=r.r1;o<=r.r2;o++)for(i=r.g1;i<=r.g2;i++)for(s=r.b1;s<=r.b2;s++)index=t(o,i,s),a+=n[index];r._count=a,r._count_set=!0}return r._count},copy:function(){var t=this;return new n(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(e){var r=this,n=r.histo;if(!r._avg||e){var o,i,s,a,u,h=0,p=1<<8-c,f=0,l=0,d=0;for(i=r.r1;i<=r.r2;i++)for(s=r.g1;s<=r.g2;s++)for(a=r.b1;a<=r.b2;a++)u=t(i,s,a),o=n[u],h+=o,f+=o*(i+.5)*p,l+=o*(s+.5)*p,d+=o*(a+.5)*p;h?r._avg=[~~(f/h),~~(l/h),~~(d/h)]:r._avg=[~~(p*(r.r1+r.r2+1)/2),~~(p*(r.g1+r.g2+1)/2),~~(p*(r.b1+r.b2+1)/2)]}return r._avg},contains:function(t){var e=this,r=t[0]>>p;return gval=t[1]>>p,bval=t[2]>>p,r>=e.r1&&r<=e.r2&&gval>=e.g1&&gval<=e.g2&&bval>=e.b1&&bval<=e.b2}},i.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,r=0;r<e.size();r++)if(e.peek(r).vbox.contains(t))return e.peek(r).color;return this.nearest(t)},nearest:function(t){for(var e,r,n,o=this.vboxes,i=0;i<o.size();i++)r=Math.sqrt(Math.pow(t[0]-o.peek(i).color[0],2)+Math.pow(t[1]-o.peek(i).color[1],2)+Math.pow(t[2]-o.peek(i).color[2],2)),(e>r||void 0===e)&&(e=r,n=o.peek(i).color);return n},forcebw:function(){
var t=this.vboxes;t.sort(function(t,e){return o.naturalOrder(o.sum(t.color),o.sum(e.color))});var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var r=t.length-1,n=t[r].color;n[0]>251&&n[1]>251&&n[2]>251&&(t[r].color=[255,255,255])}},{quantize:h,getAll:s,medianCutApply:u}}();e.exports=i.quantize,e.exports.getAll=i.getAll,e.exports.splitBox=i.medianCutApply},{}],22:[function(t,e,r){(function(r){"use strict";function n(t,e){if("function"==typeof t)return n("*",t);if("function"==typeof e)for(var r=new a(t),o=1;o<arguments.length;++o)n.callbacks.push(r.middleware(arguments[o]));else"string"==typeof t?n["string"==typeof e?"redirect":"show"](t,e):n.start(t)}function o(t){if(!t.handled){var e;e=b?y+g.hash.replace("#!",""):g.pathname+g.search,e!==t.canonicalPath&&(n.stop(),t.handled=!1,g.href=t.canonicalPath)}}function i(t){return"string"!=typeof t?t:m?decodeURIComponent(t.replace(/\+/g," ")):t}function s(t,e){"/"===t[0]&&0!==t.indexOf(y)&&(t=y+(b?"#!":"")+t);var r=t.indexOf("?");if(this.canonicalPath=t,this.path=t.replace(y,"")||"/",b&&(this.path=this.path.replace("#!","")||"/"),this.title=document.title,this.state=e||{},this.state.path=t,this.querystring=~r?i(t.slice(r+1)):"",this.pathname=i(~r?t.slice(0,r):t),this.params={},this.hash="",!b){if(!~this.path.indexOf("#"))return;var n=this.path.split("#");this.path=n[0],this.hash=i(n[1])||"",this.querystring=this.querystring.split("#")[0]}}function a(t,e){e=e||{},this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=p(this.path,this.keys=[],e.sensitive,e.strict)}function u(t){if(1===h(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!==e.nodeName;)e=e.parentNode;if(e&&"A"===e.nodeName&&!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var o=e.getAttribute("href");if((b||e.pathname!==g.pathname||!e.hash&&"#"!==o)&&!(o&&o.indexOf("mailto:")>-1)&&!e.target&&c(e.href)){var i=e.pathname+e.search+(e.hash||"");"undefined"!=typeof r&&i.match(/^\/[a-zA-Z]:\//)&&(i=i.replace(/^\/[a-zA-Z]:\//,"/"));var s=i;0===i.indexOf(y)&&(i=i.substr(y.length)),b&&(i=i.replace("#!","")),y&&s===i||(t.preventDefault(),n.show(s))}}}}function h(t){return t=t||window.event,null===t.which?t.button:t.which}function c(t){var e=g.protocol+"//"+g.hostname;return g.port&&(e+=":"+g.port),t&&0===t.indexOf(e)}var p=t("path-to-regexp");e.exports=n;var f,l,d="undefined"!=typeof document&&document.ontouchstart?"touchstart":"click",g="undefined"!=typeof window&&(window.history.location||window.location),v=!0,m=!0,y="",b=!1;n.callbacks=[],n.exits=[],n.current="",n.len=0,n.base=function(t){return 0===arguments.length?y:void(y=t)},n.start=function(t){if(t=t||{},!f&&(f=!0,!1===t.dispatch&&(v=!1),!1===t.decodeURLComponents&&(m=!1),!1!==t.popstate&&window.addEventListener("popstate",w,!1),!1!==t.click&&document.addEventListener(d,u,!1),!0===t.hashbang&&(b=!0),v)){var e=b&&~g.hash.indexOf("#!")?g.hash.substr(2)+g.search:g.pathname+g.search+g.hash;n.replace(e,null,!0,v)}},n.stop=function(){f&&(n.current="",n.len=0,f=!1,document.removeEventListener(d,u,!1),window.removeEventListener("popstate",w,!1))},n.show=function(t,e,r,o){var i=new s(t,e);return n.current=i.path,!1!==r&&n.dispatch(i),!1!==i.handled&&!1!==o&&i.pushState(),i},n.back=function(t,e){n.len>0?(history.back(),n.len--):t?setTimeout(function(){n.show(t,e)}):setTimeout(function(){n.show(y,e)})},n.redirect=function(t,e){"string"==typeof t&&"string"==typeof e&&n(t,function(t){setTimeout(function(){n.replace(e)},0)}),"string"==typeof t&&"undefined"==typeof e&&setTimeout(function(){n.replace(t)},0)},n.replace=function(t,e,r,o){var i=new s(t,e);return n.current=i.path,i.init=r,i.save(),!1!==o&&n.dispatch(i),i},n.dispatch=function(t){function e(){var t=n.exits[a++];return t?void t(i,e):r()}function r(){var e=n.callbacks[s++];return t.path!==n.current?void(t.handled=!1):e?void e(t,r):o(t)}var i=l,s=0,a=0;l=t,i?e():r()},n.exit=function(t,e){if("function"==typeof t)return n.exit("*",t);for(var r=new a(t),o=1;o<arguments.length;++o)n.exits.push(r.middleware(arguments[o]))},n.Context=s,s.prototype.pushState=function(){n.len++,history.pushState(this.state,this.title,b&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},s.prototype.save=function(){history.replaceState(this.state,this.title,b&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},n.Route=a,a.prototype.middleware=function(t){var e=this;return function(r,n){return e.match(r.path,r.params)?t(r,n):void n()}},a.prototype.match=function(t,e){var r=this.keys,n=t.indexOf("?"),o=~n?t.slice(0,n):t,s=this.regexp.exec(decodeURIComponent(o));if(!s)return!1;for(var a=1,u=s.length;u>a;++a){var h=r[a-1],c=i(s[a]);void 0===c&&hasOwnProperty.call(e,h.name)||(e[h.name]=c)}return!0};var w=function(){var t=!1;if("undefined"!=typeof window)return"complete"===document.readyState?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function(e){if(t)if(e.state){var r=e.state.path;n.replace(r,e.state)}else n.show(g.pathname+g.hash,void 0,void 0,!1)}}();n.sameOrigin=c}).call(this,t("_process"))},{_process:24,"path-to-regexp":23}],23:[function(t,e,r){function n(t){for(var e,r=[],n=0,o=0,i="";null!=(e=v.exec(t));){var s=e[0],u=e[1],h=e.index;if(i+=t.slice(o,h),o=h+s.length,u)i+=u[1];else{i&&(r.push(i),i="");var c=e[2],p=e[3],f=e[4],l=e[5],d=e[6],g=e[7],m="+"===d||"*"===d,y="?"===d||"*"===d,b=c||"/",w=f||l||(g?".*":"[^"+b+"]+?");r.push({name:p||n++,prefix:c||"",delimiter:b,optional:y,repeat:m,pattern:a(w)})}}return o<t.length&&(i+=t.substr(o)),i&&r.push(i),r}function o(t){return i(n(t))}function i(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^"+t[r].pattern+"$"));return function(r){for(var n="",o=r||{},i=0;i<t.length;i++){var s=t[i];if("string"!=typeof s){var a,u=o[s.name];if(null==u){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to be defined')}if(g(u)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received "'+u+'"');if(0===u.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var h=0;h<u.length;h++){if(a=encodeURIComponent(u[h]),!e[i].test(a))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received "'+a+'"');n+=(0===h?s.prefix:s.delimiter)+a}}else{if(a=encodeURIComponent(u),!e[i].test(a))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+a+'"');n+=s.prefix+a}}else n+=s}return n}}function s(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function a(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function u(t,e){return t.keys=e,t}function h(t){return t.sensitive?"":"i"}function c(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return u(t,e)}function p(t,e,r){for(var n=[],o=0;o<t.length;o++)n.push(d(t[o],e,r).source);var i=new RegExp("(?:"+n.join("|")+")",h(r));return u(i,e)}function f(t,e,r){for(var o=n(t),i=l(o,r),s=0;s<o.length;s++)"string"!=typeof o[s]&&e.push(o[s]);return u(i,e)}function l(t,e){e=e||{};for(var r=e.strict,n=e.end!==!1,o="",i=t[t.length-1],a="string"==typeof i&&/\/$/.test(i),u=0;u<t.length;u++){var c=t[u];if("string"==typeof c)o+=s(c);else{var p=s(c.prefix),f=c.pattern;c.repeat&&(f+="(?:"+p+f+")*"),f=c.optional?p?"(?:"+p+"("+f+"))?":"("+f+")?":p+"("+f+")",o+=f}}return r||(o=(a?o.slice(0,-2):o)+"(?:\\/(?=$))?"),o+=n?"$":r&&a?"":"(?=\\/|$)",new RegExp("^"+o,h(e))}function d(t,e,r){return e=e||[],g(e)?r||(r={}):(r=e,e=[]),t instanceof RegExp?c(t,e,r):g(t)?p(t,e,r):f(t,e,r)}var g=t("isarray");e.exports=d,e.exports.parse=n,e.exports.compile=o,e.exports.tokensToFunction=i,e.exports.tokensToRegExp=l;var v=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},{isarray:1}],24:[function(t,e,r){function n(){c=!1,a.length?h=a.concat(h):p=-1,h.length&&o()}function o(){if(!c){var t=setTimeout(n);c=!0;for(var e=h.length;e;){for(a=h,h=[];++p<e;)a&&a[p].run();p=-1,e=h.length}a=null,c=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function s(){}var a,u=e.exports={},h=[],c=!1,p=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new i(t,e)),1!==h.length||c||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],25:[function(t,e,r){if(!n)var n={map:function(t,e){var r={};return e?t.map(function(t,n){return r.index=n,e.call(r,t)}):t.slice()},naturalOrder:function(t,e){return e>t?-1:t>e?1:0},sum:function(t,e){var r={};return t.reduce(e?function(t,n,o){return r.index=o,t+e.call(r,n)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?n.map(t,e):t)}};var o=function(){function t(t,e,r){return(t<<2*h)+(e<<h)+r}function e(t){function e(){r.sort(t),n=!0}var r=[],n=!1;return{push:function(t){r.push(t),n=!1},peek:function(t){return n||e(),void 0===t&&(t=r.length-1),r[t]},pop:function(){return n||e(),r.pop()},size:function(){return r.length},map:function(t){return r.map(t)},debug:function(){return n||e(),r}}}function r(t,e,r,n,o,i,s){var a=this;a.r1=t,a.r2=e,a.g1=r,a.g2=n,a.b1=o,a.b2=i,a.histo=s}function o(){this.vboxes=new e(function(t,e){return n.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())})}function i(e){var r,n,o,i,s=1<<3*h,a=new Array(s);return e.forEach(function(e){n=e[0]>>c,o=e[1]>>c,i=e[2]>>c,r=t(n,o,i),a[r]=(a[r]||0)+1}),a}function s(t,e){var n,o,i,s=1e6,a=0,u=1e6,h=0,p=1e6,f=0;return t.forEach(function(t){n=t[0]>>c,o=t[1]>>c,i=t[2]>>c,s>n?s=n:n>a&&(a=n),u>o?u=o:o>h&&(h=o),p>i?p=i:i>f&&(f=i)}),new r(s,a,u,h,p,f,e)}function a(e,r){function o(t){var e,n,o,i,s,a=t+"1",u=t+"2",c=0;for(h=r[a];h<=r[u];h++)if(g[h]>d/2){for(o=r.copy(),i=r.copy(),e=h-r[a],n=r[u]-h,s=n>=e?Math.min(r[u]-1,~~(h+n/2)):Math.max(r[a],~~(h-1-e/2));!g[s];)s++;for(c=v[s];!c&&g[s-1];)c=v[--s];return o[u]=s,i[a]=o[u]+1,[o,i]}}if(r.count()){var i=r.r2-r.r1+1,s=r.g2-r.g1+1,a=r.b2-r.b1+1,u=n.max([i,s,a]);if(1==r.count())return[r.copy()];var h,c,p,f,l,d=0,g=[],v=[];if(u==i)for(h=r.r1;h<=r.r2;h++){for(f=0,c=r.g1;c<=r.g2;c++)for(p=r.b1;p<=r.b2;p++)l=t(h,c,p),f+=e[l]||0;d+=f,g[h]=d}else if(u==s)for(h=r.g1;h<=r.g2;h++){for(f=0,c=r.r1;c<=r.r2;c++)for(p=r.b1;p<=r.b2;p++)l=t(c,h,p),f+=e[l]||0;d+=f,g[h]=d}else for(h=r.b1;h<=r.b2;h++){for(f=0,c=r.r1;c<=r.r2;c++)for(p=r.g1;p<=r.g2;p++)l=t(c,p,h),f+=e[l]||0;d+=f,g[h]=d}return g.forEach(function(t,e){v[e]=d-t}),o(u==i?"r":u==s?"g":"b")}}function u(t,r){function u(t,e){for(var r,n=1,o=0;p>o;)if(r=t.pop(),r.count()){var i=a(h,r),s=i[0],u=i[1];if(!s)return;if(t.push(s),u&&(t.push(u),n++),n>=e)return;if(o++>p)return}else t.push(r),o++}if(!t.length||2>r||r>256)return!1;var h=i(t),c=0;h.forEach(function(){c++});var l=s(t,h),d=new e(function(t,e){return n.naturalOrder(t.count(),e.count())});d.push(l),u(d,f*r);for(var g=new e(function(t,e){return n.naturalOrder(t.count()*t.volume(),e.count()*e.volume())});d.size();)g.push(d.pop());u(g,r-g.size());for(var v=new o;g.size();)v.push(g.pop());return v}var h=5,c=8-h,p=1e3,f=.75;return r.prototype={volume:function(t){var e=this;return(!e._volume||t)&&(e._volume=(e.r2-e.r1+1)*(e.g2-e.g1+1)*(e.b2-e.b1+1)),e._volume},count:function(e){var r=this,n=r.histo;if(!r._count_set||e){var o,i,s,a=0;for(o=r.r1;o<=r.r2;o++)for(i=r.g1;i<=r.g2;i++)for(s=r.b1;s<=r.b2;s++)index=t(o,i,s),a+=n[index]||0;r._count=a,r._count_set=!0}return r._count},copy:function(){var t=this;return new r(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(e){var r=this,n=r.histo;if(!r._avg||e){var o,i,s,a,u,c=0,p=1<<8-h,f=0,l=0,d=0;for(i=r.r1;i<=r.r2;i++)for(s=r.g1;s<=r.g2;s++)for(a=r.b1;a<=r.b2;a++)u=t(i,s,a),o=n[u]||0,c+=o,f+=o*(i+.5)*p,l+=o*(s+.5)*p,d+=o*(a+.5)*p;c?r._avg=[~~(f/c),~~(l/c),~~(d/c)]:r._avg=[~~(p*(r.r1+r.r2+1)/2),~~(p*(r.g1+r.g2+1)/2),~~(p*(r.b1+r.b2+1)/2)]}return r._avg},contains:function(t){var e=this,r=t[0]>>c;return gval=t[1]>>c,bval=t[2]>>c,r>=e.r1&&r<=e.r2&&gval>=e.g1&&gval<=e.g2&&bval>=e.b1&&bval<=e.b2}},o.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,r=0;r<e.size();r++)if(e.peek(r).vbox.contains(t))return e.peek(r).color;return this.nearest(t)},nearest:function(t){for(var e,r,n,o=this.vboxes,i=0;i<o.size();i++)r=Math.sqrt(Math.pow(t[0]-o.peek(i).color[0],2)+Math.pow(t[1]-o.peek(i).color[1],2)+Math.pow(t[2]-o.peek(i).color[2],2)),(e>r||void 0===e)&&(e=r,n=o.peek(i).color);return n},forcebw:function(){var t=this.vboxes;t.sort(function(t,e){return n.naturalOrder(n.sum(t.color),n.sum(e.color))});var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var r=t.length-1,o=t[r].color;o[0]>251&&o[1]>251&&o[2]>251&&(t[r].color=[255,255,255])}},{quantize:u}}();e.exports=o.quantize},{}],26:[function(t,e,r){!function(){"use strict";function t(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function e(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function n(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function o(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function i(t){var e=new FileReader;return e.readAsArrayBuffer(t),o(e)}function s(t){var e=new FileReader;return e.readAsText(t),o(e)}function a(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(l.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(l.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(t){if(!l.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText=""},l.blob?(this.blob=function(){var t=n(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(i)},this.text=function(){var t=n(this);if(t)return t;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=n(this);return t?t:Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(c)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(t){var e=t.toUpperCase();return d.indexOf(e)>-1?e:t}function h(t,e){e=e||{};var n=e.body;if(h.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",(e.headers||!this.headers)&&(this.headers=new r(e.headers)),this.method=u(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function c(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function p(t){var e=new r,n=t.getAllResponseHeaders().trim().split("\n");return n.forEach(function(t){var r=t.trim().split(":"),n=r.shift().trim(),o=r.join(":").trim();e.append(n,o)}),e}function f(t,e){e||(e={}),this._initBody(t),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof r?e.headers:new r(e.headers),this.url=e.url||""}if(!self.fetch){r.prototype.append=function(r,n){r=t(r),n=e(n);var o=this.map[r];o||(o=[],this.map[r]=o),o.push(n)},r.prototype["delete"]=function(e){delete this.map[t(e)]},r.prototype.get=function(e){var r=this.map[t(e)];return r?r[0]:null},r.prototype.getAll=function(e){return this.map[t(e)]||[]},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(r,n){this.map[t(r)]=[e(n)]},r.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(n){t.call(e,n,r,this)},this)},this)};var l={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self},d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this)},a.call(h.prototype),a.call(f.prototype),f.prototype.clone=function(){return new f(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},f.error=function(){var t=new f(null,{status:0,statusText:""});return t.type="error",t};var g=[301,302,303,307,308];f.redirect=function(t,e){if(-1===g.indexOf(e))throw new RangeError("Invalid status code");return new f(null,{status:e,headers:{location:t}})},self.Headers=r,self.Request=h,self.Response=f,self.fetch=function(t,e){return new Promise(function(r,n){function o(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var i;i=h.prototype.isPrototypeOf(t)&&!e?t:new h(t,e);var s=new XMLHttpRequest;s.onload=function(){var t=1223===s.status?204:s.status;if(100>t||t>599)return void n(new TypeError("Network request failed"));var e={status:t,statusText:s.statusText,headers:p(s),url:o()},i="response"in s?s.response:s.responseText;r(new f(i,e))},s.onerror=function(){n(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials&&(s.withCredentials=!0),"responseType"in s&&l.blob&&(s.responseType="blob"),i.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},self.fetch.polyfill=!0}}()},{}],27:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=document.querySelector(".js-navToggle"),e=document.querySelector(".MobileNav"),r=document.querySelector(".js-navToggleClose");t.addEventListener("click",function(t){t.preventDefault(),e.classList.add("is-active")},!1),r.addEventListener("click",function(t){t.preventDefault(),e.classList.remove("is-active")},!1)}var i=t("page"),s=(n(i),t("whatwg-fetch")),a=(n(s),t("./js/tabs.js")),u=(n(a),t("node-vibrant")),h=(n(u),t("./js/figure-bg.js")),c=n(h),p=t("./js/vendor/imgfill.js"),f=n(p);o(),(0,c["default"])(),(0,f["default"])(".imgFill",".imgFillSrc"),document.addEventListener("DOMContentLoaded",function(){particlesJS.load("particles-js","http://www.indrapratama.com/itmock/asset/js/particlesjs-config1.json",function(){console.log("callback - particles.js config loaded")})})},{"./js/figure-bg.js":28,"./js/tabs.js":29,"./js/vendor/imgfill.js":30,"node-vibrant":2,page:22,"whatwg-fetch":26}],28:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(r,"__esModule",{value:!0});var o=t("node-vibrant"),i=n(o),s=function(){var t=Array.from(document.querySelectorAll(".Figure--slideDown")),e=!0,r=!1,n=void 0;try{for(var o,s=function(){var t=o.value,e=t.querySelector("img").getAttribute("src"),r=t.querySelector("figcaption"),n=new i["default"](e);n.getPalette(function(t,e){if(t)r.style.backgroundColor("#ffffff");else{var n=e.Vibrant.rgb.join(),o=e.Vibrant.getTitleTextColor();r.style.backgroundColor="rgba("+n+", 1)",r.style.color=o}})},a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0)s()}catch(u){r=!0,n=u}finally{try{!e&&a["return"]&&a["return"]()}finally{if(r)throw n}}};r["default"]=s},{"node-vibrant":2}],29:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){var t=document.querySelector(".Tab");t.querySelector(".TabAchor"),t.querySelector(".TabContent")};r["default"]=n},{}],30:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(t){var e={backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};for(var r in e)t.style[r]=e[r]},o=function(t,e){var r=Array.from(document.querySelectorAll(t)),o=!0,i=!1,s=void 0;try{for(var a,u=r[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var h=a.value,c=h.querySelector(e),p=c.getAttribute("src");c.style.display="none",h.style.backgroundImage="url("+p+")",n(h)}}catch(f){i=!0,s=f}finally{try{!o&&u["return"]&&u["return"]()}finally{if(i)throw s}}};r["default"]=o},{}]},{},[27]);
//# sourceMappingURL=app.js.map
